/* Black-themed minimal layout */

:root {
    --brand: #111111;
    /* black */
    --brand-accent: #0a0a0a;
    /* deep black */
    --ink: #0a0a0a;
    --text: #0a0a0a;
    --muted: #4b5563;
    /* slate-600 */
    --bg: #ffffff;
    --bg-soft: #f6f7f9;
    --surface: #ffffff;
    --panel: #ffffff;
    --border: #e5e7eb;
    --ring: rgba(0, 0, 0, .15);
    --accent: #ef4444;
    /* modern red */
    --highlight: #fde047;
    /* yellow-300 */
    /* publication card tints (light) */
    --card-1: #eef2ff;
    /* indigo-50 */
    --card-2: #ecfdf5;
    /* emerald-50 */
    --card-3: #fdf2f8;
    /* pink-50 */
    --card-4: #eff6ff;
    /* sky-50 */
    --card-5: #fff7ed;
    /* orange-50 */
    --card-6: #f5f3ff;
    /* violet-50 */
    --card-7: #f0f9ff;
    /* cyan-50 */
    --card-8: #fef2f2;
    /* red-50 */
    --card-9: #fffbeb;
    /* amber-50 */
    --card-10: #f7fee7;
    /* lime-50 */
    --card-11: #fefce8;
    /* yellow-50 */
    --card-12: #f0fdf4;
    /* green-50 */
}

:root[data-theme="dark"] {
    --brand: #fafafa;
    --brand-accent: #fafafa;
    --ink: #f5f5f5;
    --text: #e5e7eb;
    --muted: #9ca3af;
    --bg: #0b0b0b;
    --bg-soft: #0d0d0d;
    --surface: #121212;
    --panel: #121212;
    --border: #262626;
    --ring: rgba(255, 255, 255, .18);
    --accent: #f87171;
    /* softer red in dark */
    --highlight: #facc15;
    /* yellow-400 */
    /* publication card tints (dark) */
    --card-1: #151827;
    --card-2: #0f1a15;
    --card-3: #22131b;
    --card-4: #0f1720;
    --card-5: #21180f;
    --card-6: #1a1525;
    --card-7: #0a1f24;
    --card-8: #241314;
    --card-9: #231d0f;
    --card-10: #1a2211;
    --card-11: #23220f;
    --card-12: #0e1f14;
}

* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
}

html {
    scroll-behavior: auto;
}

/* no scroll animation */
body {
    margin: 0;
    font-family: 'DM Sans', Inter, ui-sans-serif, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    color: var(--text);
    background: var(--bg-soft);
    line-height: 1.5;
    letter-spacing: -0.01em;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
    /* default lightweight baseline */
}

/* Form controls baseline weight */
button,
input,
select,
textarea {
    font-weight: 400;
}

/* Key headings and labels heavier */
.name,
.section-title,
.hero-head,
.pub-title,
.flag,
.exp-role {
    font-weight: 900;
}

img {
    max-width: 100%;
    display: block;
}

a {
    color: var(--ink);
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

.skip-link {
    position: absolute;
    left: 1rem;
    top: -3rem;
    background: var(--ink);
    color: #fff;
    padding: .5rem .75rem;
    border-radius: 8px;
    transition: top .2s ease;
    z-index: 1000;
}

.skip-link:focus {
    top: .75rem;
    outline: 3px solid var(--ring);
}

/* Grid */
.app-grid {
    display: grid;
    grid-template-columns: 280px 1fr;
    gap: 24px;
    width: min(1200px, 94vw);
    margin: 28px auto;
    min-height: calc(100dvh - 56px);
}

/* Sidebar */
.sidebar {
    position: sticky;
    align-self: start;
    top: 28px;
    height: calc(100dvh - 56px);
}

.sidebar-inner {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 18px;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.profile {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 10px;
}

.avatar {
    width: 46px;
    height: 46px;
    border-radius: 999px;
    object-fit: cover;
    border: 1px solid var(--border);
}

.name {
    font-size: 1rem;
    line-height: 1.2;
    margin: 0;
    color: var(--ink);
    font-weight: 800;
    letter-spacing: -0.01em;
}

.role {
    margin: 2px 0 0;
    color: var(--muted);
    font-size: .88rem;
}

.side-nav {
    display: grid;
    gap: 6px;
    margin: 12px 0;
}

.side-link {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: .56rem .7rem;
    border-radius: 12px;
    color: var(--text);
    font-weight: 600;
}

.side-link:hover {
    background: #f0f1f3;
    text-decoration: none;
}

.side-link.is-active {
    background: var(--ink);
    color: #fff;
}

.nav-icon {
    width: 16px;
    height: 16px;
    color: currentColor;
    opacity: .9;
}

.side-section {
    margin-top: auto;
}

.side-heading {
    font-size: .92rem;
    margin: 0 0 8px;
    color: var(--muted);
    font-weight: 700;
}

.social-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 10px 20px;
}

/* Divider below social section */
.side-divider {
    height: 1px;
    background: var(--border);
    border: 0;
    margin: 6px 0 8px;
}

.social-link {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: 8px;
    width: 100%;
    padding: 0;
    border: 0;
    border-radius: 0;
    color: var(--muted);
    background: transparent;
    font-weight: 400;
    font-size: .92rem;
    transition: color .18s ease, opacity .18s ease;
}

.social-link:focus-visible {
    background: transparent;
    color: var(--ink);
    text-decoration: none;
}

.social-link:focus-visible .social-icon {
    transform: translateX(2px);
}

.social-icon {
    display: inline-flex;
    width: 16px;
    height: 16px;
    color: currentColor;
    opacity: .92;
    transform: translateX(0);
    transition: transform .18s ease;
}

.social-icon svg {
    width: 100%;
    height: 100%;
    display: block;
}

.social-icon--lg {
    width: 18px;
    height: 18px;
}

.social-icon--sm {
    width: 14px;
    height: 14px;
}

/* Make social icons monochrome while preserving glyphs; hide only brand backgrounds */
.social-icon svg rect[fill="#4285f4"],
.social-icon svg path[fill="#4285f4"],
.social-icon svg rect[fill="#007EBB"],
.social-icon svg path[fill="#007EBB"] {
    display: none !important;
}

.social-icon svg path[fill="#fff"],
.social-icon svg path[fill="#FFF"] {
    fill: currentColor !important;
}

.social-icon svg [stroke] {
    stroke: currentColor !important;
}

/* Content */
.content {
    display: grid;
    gap: 16px;
}

.panel {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 20px;
    min-height: calc(100dvh - 56px);
    overflow: auto;
}

.panel-inner {
    padding: clamp(18px, 3.6vw, 26px);
}

/* About hero */
.panel-hero {
    display: grid;
    align-content: center;
}

.hero-wrap {
    margin: 0;
    width: min(70%, 860px);
    padding: min(4vw, 28px) 10px;
}

.panel-hero .hero-wrap {
    transform: translateY(-4vh);
}

/* add a bit more left inset */
.hero-wrap {
    padding-left: clamp(18px, 4vw, 36px);
}

.hero-intro {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 6px;
}

.eyebrow {
    margin: 0 0 6px;
    color: var(--muted);
    font-weight: 700;
    letter-spacing: .01em;
    font-size: .9rem;
}

.headline {
    margin: 0 0 10px;
    font-size: clamp(1.4rem, 2.2vw, 1.8rem);
    line-height: 1.25;
    font-weight: 800;
    color: var(--ink);
    letter-spacing: -0.015em;
}

.hero-head {
    font-size: clamp(1.9rem, 5.2vw, 3rem);
    letter-spacing: -0.02em;
    margin-bottom: 10px;
}

/* subhead/highlight styles removed */

/* About layout enhancements */
.hero-headwrap {
    display: grid;
    align-content: start;
}

/* removed lede-2 (second paragraph) styling */

/* remove research card styles */

/* Badges: calmer contrast, tighter spacing */
.badge-group {
    gap: 8px;
    margin: 10px 0 10px;
}

.badge {
    background: var(--bg-soft);
    border-color: var(--border);
    color: var(--ink);
    font-weight: 700;
}

/* Key points: subtle bullets */
.key-points {
    list-style: none;
    padding-left: 0;
}

.key-points li {
    position: relative;
    padding-left: 14px;
}

.key-points li::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.65em;
    width: 6px;
    height: 6px;
    border-radius: 999px;
    background: var(--ink);
    opacity: .2;
}

/* Markdown-like blockquote for About */
.md-quote {
    margin: 8px 0 0;
    padding: 12px 14px 12px 16px;
    border-left: 2px solid var(--border);
    background: transparent;
    border-radius: 8px;
    font-size: .9rem;
    line-height: 1.55;
}

.md-quote p {
    margin: 0 0 10px;
    color: var(--muted);
}

.md-quote p:last-child {
    margin-bottom: 0;
}

/* Blockquote variants */
.quote-lead {
    color: var(--ink);
    font-weight: 500;
    font-size: .94rem;
}

.lead-strong {
    font-weight: 800;
}

/* Subtle palette blue for named entities */
.palette-blue {
    color: #60a5fa;
    /* lighter blue */
}

.quote-note {
    color: var(--muted);
    font-style: italic;
    font-weight: 400;
    font-size: .92rem;
    opacity: .82;
}

/* Small, gray inline de-emphasis */
.inline-muted {
    color: var(--muted);
    font-size: .86em;
    font-weight: 400;
}

@media (max-width: 980px) {
    .about-grid {
        grid-template-columns: 1fr;
    }
}

/* lede style removed; paragraphs default */

/* Typing caret */
.typing-caret {
    display: inline-block;
    width: 1px;
    height: 1em;
    background: var(--ink);
    margin-left: 2px;
    vertical-align: -0.12em;
    animation: caret-blink .9s steps(1, start) infinite;
}

@keyframes caret-blink {
    50% {
        opacity: 0;
    }
}

.badge-group {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin: 10px 0 8px;
}

.badge {
    display: inline-flex;
    align-items: center;
    gap: .35rem;
    padding: .14rem .5rem;
    background: #f0f1f3;
    border: 1px solid var(--border);
    border-radius: 999px;
    font-size: .8rem;
    color: var(--muted);
    font-weight: 700;
}

.meta-list {
    list-style: none;
    padding: 0;
    margin: 8px 0 14px;
    display: grid;
    gap: 6px;
    color: var(--muted);
    font-size: .92rem;
}

.meta-list a {
    color: var(--ink);
}

.cta-row {
    display: inline-flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 10px;
}

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .45rem;
    padding: .48rem .9rem;
    border-radius: 999px;
    border: 1px solid var(--border);
    background: var(--ink);
    color: #fff;
    font-weight: 800;
    font-size: .9rem;
}

.btn.ghost {
    background: transparent;
    color: var(--ink);
}

.btn:hover {
    text-decoration: none;
    filter: brightness(.96);
}

.btn.ghost:hover {
    background: #f0f1f3;
    border-color: #d1d5db;
}

/* Experience */
.section-title {
    margin: 0 0 8px;
    font-size: 1.05rem;
    font-weight: 800;
    color: var(--ink);
}

.exp-columns {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px 18px;
}

.exp-title {
    font-weight: 800;
    color: var(--ink);
    margin: 2px 0 6px;
}

.exp-title.alt {
    text-align: right;
}

.exp-col {
    display: grid;
    align-content: start;
    gap: 10px;
}

.exp-card {
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: .8rem .9rem;
    background: var(--panel);
    box-shadow: 0 0 0 rgba(0, 0, 0, 0);
    transform: translateY(4px);
    opacity: 0;
    transition: opacity .35s ease, transform .35s ease, box-shadow .2s ease;
}

.exp-card.in-view {
    opacity: 1;
    transform: translateY(0);
}

.exp-card:hover {
    box-shadow: 0 6px 18px rgba(2, 6, 23, .08);
}

.exp-head {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 8px;
}

.exp-role {
    margin: 0;
    font-size: 1rem;
    letter-spacing: -.01em;
}

.exp-when {
    color: var(--muted);
    font-size: .9rem;
}

.exp-detail {
    margin: .3rem 0 0;
    color: var(--muted);
}

/* Publications */
.pub-group {
    margin: 1.1rem 0 1.5rem;
}

.pub-toolbar {
    display: flex;
    justify-content: flex-end;
    margin: .4rem 0 .6rem;
}

.pub-toolbar input[type="search"] {
    width: min(420px, 100%);
    border: 1px solid var(--border);
    border-radius: 999px;
    padding: .45rem .8rem;
    background: var(--surface);
    color: var(--text);
}

.pub-year-chip {
    position: sticky;
    top: 0;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: .5rem;
    font-weight: 900;
    color: var(--ink);
    background: var(--surface);
    border: 0;
    padding: .3rem 0;
    font-size: .82rem;
    text-transform: uppercase;
    letter-spacing: .08em;
}

.pub-year-chip::after {
    content: "";
    flex: 1 1 auto;
    height: 1px;
    background: var(--border);
    border-radius: 0;
    opacity: 1;
    margin-left: .6rem;
}

.pub-list {
    list-style: none;
    margin: .85rem 0 0;
    padding: 0;
    display: grid;
    gap: .8rem;
}

.pub-item {
    position: relative;
    display: grid;
    grid-template-columns: 1fr auto;
    row-gap: .5rem;
    align-items: start;
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: .9rem 1rem;
    background: var(--panel);
    transition: border-color .15s ease, background-color .15s ease, box-shadow .15s ease;
}

.pub-item.compact .pub-actions {
    opacity: .85;
}

.pub-item:hover {
    border-color: var(--ink);
    background: #fff;
    box-shadow: 0 8px 24px rgba(2, 6, 23, .06);
}

.pub-item:focus-within {
    outline: 3px solid var(--ring);
    outline-offset: 2px;
}

.pub-item::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    border-top-left-radius: 16px;
    border-bottom-left-radius: 16px;
    background: var(--accent);
    opacity: .95;
}

/* Title highlight animation */
.pub-title {
    grid-column: 1;
    margin: 0;
    font-weight: 800;
    font-size: 1.02rem;
    letter-spacing: -0.005em;
    color: var(--ink);
    background-image: linear-gradient(180deg, rgba(253, 224, 71, 0) 60%, var(--highlight) 0);
    background-repeat: no-repeat;
    background-size: 0% 100%;
    background-position: left bottom;
    transition: background-size .4s ease-in-out;
}

.pub-item:hover .pub-title {
    background-size: 100% 100%;
}

.pub-actions {
    grid-column: 2;
    display: inline-flex;
    gap: .5rem;
    align-items: start;
}

.btn-link {
    display: inline-flex;
    align-items: center;
    gap: .35rem;
    color: var(--ink);
    font-weight: 800;
    border: 1px solid var(--border);
    border-radius: 999px;
    padding: .22rem .6rem;
    background: transparent;
    text-decoration: none;
    transition: border-color .15s ease, background-color .15s ease;
}

.btn-link:hover {
    background: #f0f1f3;
    text-decoration: none;
    border-color: var(--ink);
}

.btn-link.pub-toggle,
.btn-link.pub-copy {
    cursor: pointer;
}

.pub-meta {
    grid-column: 1 / -1;
    margin: 0;
    color: var(--muted);
    display: flex;
    flex-wrap: wrap;
    gap: .45rem .8rem;
    align-items: center;
}

.pub-meta .venue {
    display: inline-flex;
    align-items: center;
    gap: .4rem;
    padding: .12rem .6rem;
    background: var(--bg-soft);
    border: 1px solid var(--border);
    border-radius: 10px;
    font-size: .82rem;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: .03em;
}

.pub-meta .venue::before {
    content: "";
    width: 6px;
    height: 6px;
    border-radius: 999px;
    background: var(--ink);
    opacity: .85;
}

.authors .me {
    color: var(--ink);
    font-weight: 800;
}

@media (max-width: 860px) {
    .pub-actions {
        grid-column: 1;
    }
}

/* Footer */
.site-footer {
    color: var(--muted);
    text-align: center;
    padding: 1rem 0;
}

/* Page switching */
.hidden {
    display: none;
}

/* Minimal reveal (no slide) */
.panel {
    opacity: 1;
    transform: none;
}

/* Classic alternating timeline */
.timeline {
    position: relative;
    width: min(900px, 92%);
    margin: 10px auto 0;
    padding: 1em 0;
    list-style: none;
}

.timeline:before {
    position: absolute;
    left: 50%;
    top: 0;
    content: '';
    display: block;
    width: 3px;
    height: 100%;
    margin-left: -1.5px;
    background: linear-gradient(to bottom, rgba(80, 80, 80, 0) 0%, rgba(80, 80, 80, .9) 10%, rgba(80, 80, 80, .9) 90%, rgba(80, 80, 80, 0) 100%);
    z-index: 1;
}

.timeline li {
    position: relative;
    padding: 1.2em 0;
}

/* Highlight title on hover instead of lifting */
.timeline li:hover .flag {
    border: 0;
    box-shadow: none;
    color: var(--ink);
}

/* Center dot anchored to the timeline */
.timeline li::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 12px;
    height: 12px;
    background: #fff;
    border-radius: 999px;
    border: 3px solid var(--accent);
    box-shadow: 0 0 0 0 rgba(239, 68, 68, .25);
    transition: transform .18s ease, box-shadow .2s ease;
    z-index: 2;
}

.timeline li:hover::before {
    transform: translate(-50%, -50%) scale(1.06);
    box-shadow: 0 0 0 6px rgba(239, 68, 68, .08);
}

.timeline li:after {
    content: '';
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
}

.direction-l {
    position: relative;
    width: calc(50% - 40px);
    float: left;
    text-align: right;
}

.direction-r {
    position: relative;
    width: calc(50% - 40px);
    float: right;
}

.flag-wrapper {
    position: relative;
    display: inline-block;
    text-align: center;
}

.flag {
    position: relative;
    display: inline;
    background: transparent;
    padding: 0;
    border-radius: 0;
    border: 0;
    font-weight: 800;
    color: var(--ink);
    letter-spacing: -.01em;
    box-shadow: none;
    transition: background-size .45s ease-in-out;
    background-image: linear-gradient(180deg, rgba(253, 224, 71, 0) 60%, var(--highlight) 0);
    background-repeat: no-repeat;
    background-size: 0% 100%;
    background-position: left bottom;
}

/* Yellow text highlight on hover with sliding effect */
/* Disable title highlight hover */
.timeline li:hover .flag,
.flag:hover {
    background-size: 0% 100%;
}

/* Disable old flag dots; dot is drawn by li::before */
.direction-l .flag:before,
.direction-r .flag:before {
    display: none;
    content: none;
}

.direction-l .flag {
    box-shadow: none;
}

.direction-r .flag {
    box-shadow: none;
}

.direction-l .flag:after,
.direction-r .flag:after {
    display: none;
    content: none;
}

.time-wrapper {
    display: inline;
    line-height: 1em;
    font-size: .8rem;
    color: var(--muted);
    vertical-align: middle;
}

.direction-l .time-wrapper {
    float: left;
    margin-right: 12px;
}

.direction-r .time-wrapper {
    float: right;
    margin-left: 12px;
}

.time {
    display: inline-block;
    padding: 4px 8px;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 999px;
    color: var(--muted);
}

.desc {
    margin: 0.7em 0.75em 0 0;
    font-size: .93rem;
    color: var(--muted);
    line-height: 1.55em;
    max-width: 460px;
}

.direction-r .desc {
    margin: 0.7em 0 0 0.75em;
}

@media (max-width: 980px) {
    .timeline {
        width: 100%;
        padding: 1.6em 0 1em;
    }

    .timeline li {
        padding: 1.4em 0;
    }

    .timeline li::before {
        top: 0;
        transform: translate(-50%, -50%);
    }

    .direction-l,
    .direction-r {
        float: none;
        width: 100%;
        text-align: center;
    }

    .flag-wrapper {
        text-align: center;
    }

    .flag {
        background: var(--surface);
    }

    .direction-l .flag:after,
    .direction-r .flag:after {
        left: 50%;
        top: -7px;
        margin-left: -7px;
        border-left-color: transparent;
        border-right-color: transparent;
        border-bottom-color: var(--panel);
        right: auto;
    }

    .time-wrapper {
        display: block;
        position: relative;
        margin: 6px 0 0 0;
    }

    .direction-l .time-wrapper,
    .direction-r .time-wrapper {
        float: none;
        margin-left: 0;
        margin-right: 0;
    }

    .desc {
        position: relative;
        margin: .8em 1em 0 1em;
        padding: .8em;
        background: var(--bg-soft);
        border: 1px solid var(--border);
        border-radius: 10px;
    }
}

/* Focus ring */
:focus-visible {
    outline: 3px solid var(--ring);
    outline-offset: 2px;
    border-radius: 8px;
}

/* Publications minimalist overrides */
.pub-item {
    box-shadow: none;
    background: var(--surface);
    border-radius: 12px;
    padding: .8rem .9rem;
}

.pub-item:hover {
    background: var(--surface);
    border-color: var(--border);
}

.pub-item::before {
    display: none;
}

.pub-title {
    background: none;
    transition: none;
    font-weight: 700;
}

.pub-item:hover .pub-title {
    background: none;
}

.pub-actions {
    gap: .4rem;
}

.btn-link {
    border: 0;
    padding: 0;
    background: transparent;
    font-weight: 700;
}

.btn-link:hover {
    background: transparent;
    text-decoration: underline;
    border-color: transparent;
}

.pub-meta .venue {
    background: var(--bg-soft);
    border: 1px solid var(--border);
    border-radius: 8px;
    font-size: .84rem;
    text-transform: none;
    letter-spacing: 0;
}

/* Remove venue chip styling; make bold text */
.pub-meta .venue {
    background: transparent !important;
    border: 0 !important;
    border-radius: 0 !important;
    padding: 0 !important;
    color: var(--ink) !important;
    font-weight: 800 !important;
    text-transform: none !important;
    letter-spacing: 0 !important;
}

.pub-meta .venue::before {
    display: none !important;
    content: none !important;
}

/* Publications two-column soft cards */
.pub-list {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 1rem;
}

/* Hand-drawn font stack for publications */
.pub-list,
.pub-group,
.pub-item,
.pub-meta,
.pub-actions,
.pub-title {
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
}

.pub-title {
    font-size: 1.05rem;
    font-weight: 900;
}

/* Tighten publication text spacing */
.pub-title {
    letter-spacing: -0.02em;
}

.pub-meta,
.pub-meta .authors,
.pub-meta .venue {
    letter-spacing: -0.01em;
}

.pub-meta .authors {
    line-height: 1.3;
}

.pub-list>.pub-item {
    border: 1.5px solid var(--border);
    border-radius: 22px;
    padding: 1rem 1.1rem;
    background: var(--pub-bg, var(--card-1));
}

:root[data-theme="dark"] .pub-list>.pub-item {
    background: var(--pub-bg-dark, var(--card-1));
}

.pub-list>.pub-item:nth-child(4n+1) {
    background: var(--card-1);
}

.pub-list>.pub-item:nth-child(4n+2) {
    background: var(--card-2);
}

.pub-list>.pub-item:nth-child(4n+3) {
    background: var(--card-3);
}

.pub-list>.pub-item:nth-child(4n+4) {
    background: var(--card-4);
}

/* extend to 8-color cycle for more variety */
.pub-list>.pub-item:nth-child(8n+5) {
    background: var(--card-5);
}

.pub-list>.pub-item:nth-child(8n+6) {
    background: var(--card-6);
}

.pub-list>.pub-item:nth-child(8n+7) {
    background: var(--card-7);
}

.pub-list>.pub-item:nth-child(8n+8) {
    background: var(--card-8);
}

.pub-title {
    font-size: 1rem;
    font-weight: 800;
}

.pub-meta {
    gap: .35rem .6rem;
}

.pub-actions {
    gap: .45rem;
}

.pub-meta {
    font-size: .85rem;
}

.pub-meta .venue {
    font-size: .78rem;
}

/* Make authors smaller */
.pub-meta .authors {
    font-size: .74rem;
    line-height: 1.35;
    letter-spacing: .01em;
}

/* Emphasize my name in authors */
.pub-meta .authors .me {
    font-weight: 900;
    text-decoration: underline;
    text-underline-offset: 2px;
    text-decoration-thickness: 2px;
}

/* Highlight venue with yellow underline effect */
.pub-meta .venue {
    position: relative;
    display: block;
    font-weight: 900 !important;
    isolation: isolate;
    /* ensure ::after stays above card background */
    margin-top: 2px;
    flex-basis: 100%;
    width: 100%;
}

/* disable outer fill highlight */
.pub-meta .venue::after {
    content: none !important;
}

/* If venue contains multiple parts, stack each on its own line,
   but keep span width to its text so highlight hugs the text */
.pub-meta .venue>span {
    display: inline-block;
    position: relative;
    z-index: 0;
}

.pub-meta .venue>span::after {
    content: "";
    position: absolute;
    left: 0;
    width: 100%;
    bottom: 0.12em;
    height: 0.55em;
    background: linear-gradient(180deg, rgba(255, 235, 59, 0) 0%, rgba(255, 235, 59, .6) 100%);
    z-index: -1;
    border-radius: 4px;
}

/* Force a line break before second and subsequent spans */
.pub-meta .venue>span+span::before {
    content: "\A";
    white-space: pre;
}

.btn-link {
    font-size: .84rem;
    font-weight: 800;
}

.pub-item {
    padding: .7rem .8rem;
}

@media (max-width: 900px) {
    .pub-list {
        grid-template-columns: 1fr;
    }
}

/* Publications: flat list (no colored cards, no edges) */
.pub-list>.pub-item {
    background: transparent !important;
    border: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    padding: .7rem 0 !important;
}

.pub-list>.pub-item:hover,
.pub-list>.pub-item:focus-within {
    background: transparent !important;
    border-color: transparent !important;
    box-shadow: none !important;
}

/* Neutralize any nth-child background tints */
.pub-list>.pub-item:nth-child(n) {
    background: transparent !important;
}

/* Publications: force single-column layout */
.pub-list {
    grid-template-columns: 1fr !important;
}

/* Experience timeline refinements: alignment + typography */
/* Use flex instead of floats for cleaner alignment */
.flag-wrapper {
    display: flex;
    align-items: baseline;
    gap: 8px;
}

.direction-l .flag-wrapper {
    justify-content: flex-end;
}

.direction-r .flag-wrapper {
    justify-content: flex-start;
}

/* Neutralize legacy floats/margins on time wrappers */
.direction-l .time-wrapper,
.direction-r .time-wrapper {
    float: none !important;
    margin: 0 !important;
}

.time-wrapper {
    display: inline-flex;
    align-items: center;
    line-height: 1;
    font-size: .78rem;
    color: var(--muted);
}

/* Tweak headline sizing/weight for better balance */
.timeline .flag {
    font-size: 1rem;
    font-weight: 700;
    letter-spacing: -0.01em;
}

/* Slightly calmer description */
.timeline .desc {
    font-size: .92rem;
    line-height: 1.55;
}

/* Subtle spacing adjustments */
.timeline li {
    padding: 1.1em 0;
}

/* Slightly slimmer center line and dot for a cleaner look */
.timeline:before {
    width: 2px;
    margin-left: -1px;
}

.timeline li::before {
    width: 10px;
    height: 10px;
    border: 2px solid var(--accent);
    box-shadow: 0 0 0 0 rgba(239, 68, 68, .2);
}

/* Disable dot hover glow */
.timeline li:hover::before {
    box-shadow: none;
}

/* Experience timeline: finer typography scale */
.timeline .flag {
    font-size: .95rem;
    font-weight: 600;
    letter-spacing: -0.005em;
}

.timeline .desc {
    font-size: .9rem;
}

.time-wrapper {
    font-size: .75rem;
}

.time {
    padding: 3px 7px;
    font-size: .75rem;
    border-radius: 999px;
}

/* Timeline stacked title/subtitle for flags */
.flag-stack {
    display: grid;
    grid-auto-flow: row;
    align-content: start;
}

.flag-title {
    font-size: .96rem;
    font-weight: 700;
    letter-spacing: -0.01em;
    line-height: 1.1;
}

.flag-subtitle {
    display: block;
    margin-top: 2px;
    font-size: .82rem;
    font-weight: 600;
    color: var(--muted);
    letter-spacing: 0;
}

/* Timeline flags: force left-aligned text on both sides */
.timeline .flag,
.timeline .flag-stack {
    text-align: left;
}

/* Experience description: smaller, grayish, cursive */
.timeline .desc {
    font-family: 'Handlee', 'Shadows Into Light', 'Patrick Hand SC', cursive;
    font-size: .86rem;
    color: var(--muted);
}

/* Align content start with section titles */
.timeline {
    width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
}

.hero-wrap {
    padding-left: 0 !important;
}

/* Responsive (mobile) tweaks) */
@media (max-width: 780px) {

    /* Stack layout */
    .app-grid {
        grid-template-columns: 1fr !important;
        width: 94vw;
        margin: 20px auto;
        gap: 16px;
    }

    .sidebar {
        position: static !important;
        height: auto !important;
        top: auto !important;
    }

    .sidebar-inner {
        padding: 14px;
    }

    .panel {
        min-height: auto !important;
    }

    /* Social: single column on narrow screens */
    .social-list {
        grid-template-columns: 1fr !important;
        gap: 8px !important;
    }

    /* Timeline: left-align and simplify visuals */
    .direction-l,
    .direction-r {
        float: none !important;
        width: 100% !important;
        text-align: left !important;
    }

    .flag-wrapper {
        justify-content: flex-start !important;
    }

    .timeline:before,
    .timeline li::before {
        display: none !important;
    }

    .timeline {
        width: 100% !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
    }

    .timeline li {
        padding: 0.9em 0 !important;
    }

    .time-wrapper {
        font-size: .74rem;
    }
}

/* About: increase top spacing */
.panel-hero .hero-wrap {
    transform: none !important;
    margin-top: clamp(12px, 3vh, 28px);
}

@media (max-width: 780px) {
    .panel-hero .hero-wrap {
        margin-top: 22px !important;
    }
}

/* Mobile Experience refinements */
@media (max-width: 780px) {

    /* Stack title and date; left align */
    .flag-wrapper {
        flex-direction: column;
        align-items: flex-start;
        gap: 4px;
    }

    .time-wrapper {
        order: 2;
        font-size: .72rem;
        opacity: .9;
    }

    /* Remove mobile card boxes from desc */
    .timeline .desc {
        background: transparent !important;
        border: 0 !important;
        border-radius: 0 !important;
        padding: 0 !important;
        margin-top: .4em !important;
    }

    /* Add gentle separators between items */
    .timeline li+li {
        border-top: 1px solid var(--border);
        margin-top: 8px;
        padding-top: 10px;
    }
}